<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class SparseTable&lt;T&gt; | BelNytheraSeiche.WaveletMatrix </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class SparseTable&lt;T&gt; | BelNytheraSeiche.WaveletMatrix ">
      
      <meta name="description" content="Provides a data structure for answering range queries on a static array in O(1) time after an O(N log N) preprocessing step. This version is optimized for idempotent operations like finding the minimum or maximum, and it also tracks the index of the result.">
      <link rel="icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo-small.png" alt="BelNytheraSeiche.WaveletMatrix">
            BelNytheraSeiche.WaveletMatrix
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="WaveletMatrix.SparseTable`1">



  <h1 id="WaveletMatrix_SparseTable_1" data-uid="WaveletMatrix.SparseTable`1" class="text-break">
Class SparseTable&lt;T&gt;  
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="WaveletMatrix.html">WaveletMatrix</a></dd></dl>
  <dl><dt>Assembly</dt><dd>WaveletMatrix.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Provides a data structure for answering range queries on a static array in O(1) time
after an O(N log N) preprocessing step. This version is optimized for idempotent operations
like finding the minimum or maximum, and it also tracks the index of the result.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class SparseTable&lt;T&gt; where T : IComparable&lt;T&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The type of elements in the array. Must be comparable.</p>
</dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">SparseTable&lt;T&gt;</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="WaveletMatrix_SparseTable_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>An operation is idempotent if applying it multiple times to the same value does not change the result (e.g., min(x, x) = x).
This implementation is suitable for Range Minimum/Maximum Queries (RMQ).</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="WaveletMatrix_SparseTable_1__ctor_" data-uid="WaveletMatrix.SparseTable`1.#ctor*"></a>

  <h3 id="WaveletMatrix_SparseTable_1__ctor_System_ReadOnlySpan__0__System_Func__0__0_System_Boolean__" data-uid="WaveletMatrix.SparseTable`1.#ctor(System.ReadOnlySpan{`0},System.Func{`0,`0,System.Boolean})">
  SparseTable(ReadOnlySpan&lt;T&gt;, Func&lt;T, T, bool&gt;)
  
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="WaveletMatrix.SparseTable-1.html">SparseTable&lt;T&gt;</a> class.
The constructor performs preprocessing which takes O(N log N) time and space.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SparseTable(ReadOnlySpan&lt;T&gt; array, Func&lt;T, T, bool&gt; comparer)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>array</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.readonlyspan-1">ReadOnlySpan</a>&lt;T&gt;</dt>
    <dd><p>The static array of data to be queried. The array is not modified.</p>
</dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-3">Func</a>&lt;T, T, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a>&gt;</dt>
    <dd><p>A function that compares two elements. It should return <code>true</code> if the first argument is considered &quot;better&quot;
than the second (e.g., for a minimum query, the comparer would be <code>(a, b) =&gt; a.CompareTo(b) &lt; 0</code>).</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></dt>
    <dd><p>Thrown if <code class="paramref">comparer</code> is null.</p>
</dd>
  </dl>



  <h2 class="section" id="properties">Properties
</h2>


  <a id="WaveletMatrix_SparseTable_1_Size_" data-uid="WaveletMatrix.SparseTable`1.Size*"></a>

  <h3 id="WaveletMatrix_SparseTable_1_Size" data-uid="WaveletMatrix.SparseTable`1.Size">
  Size
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the total number of elements in the sequence.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Size { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="WaveletMatrix_SparseTable_1_Query_" data-uid="WaveletMatrix.SparseTable`1.Query*"></a>

  <h3 id="WaveletMatrix_SparseTable_1_Query" data-uid="WaveletMatrix.SparseTable`1.Query">
  Query()
  
  </h3>

  <div class="markdown level1 summary"><p>Queries to find the best value according to the comparer and its original index.
This operation takes O(1) time.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SparseTable&lt;T&gt;.ValueWithIndex Query()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="WaveletMatrix.SparseTable-1.html">SparseTable</a>&lt;T&gt;.<a class="xref" href="WaveletMatrix.SparseTable-1.ValueWithIndex.html">ValueWithIndex</a></dt>
    <dd><p>A <a class="xref" href="WaveletMatrix.SparseTable-1.ValueWithIndex.html">SparseTable&lt;T&gt;.ValueWithIndex</a> record containing the best value and its original index in the input array.</p>
</dd>
  </dl>







  <h4 class="section" id="WaveletMatrix_SparseTable_1_Query_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This method is a shorthand for calling Query(0, <a class="xref" href="WaveletMatrix.SparseTable-1.html#WaveletMatrix_SparseTable_1_Size">Size</a>).</p>
</div>




  <a id="WaveletMatrix_SparseTable_1_Query_" data-uid="WaveletMatrix.SparseTable`1.Query*"></a>

  <h3 id="WaveletMatrix_SparseTable_1_Query_System_Int32_System_Int32_" data-uid="WaveletMatrix.SparseTable`1.Query(System.Int32,System.Int32)">
  Query(int, int)
  
  </h3>

  <div class="markdown level1 summary"><p>Queries the range [start, end) to find the best value according to the comparer and its original index.
This operation takes O(1) time.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SparseTable&lt;T&gt;.ValueWithIndex Query(int start, int end)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>start</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The inclusive, zero-based start of the range.</p>
</dd>
    <dt><code>end</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The exclusive, zero-based end of the range.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="WaveletMatrix.SparseTable-1.html">SparseTable</a>&lt;T&gt;.<a class="xref" href="WaveletMatrix.SparseTable-1.ValueWithIndex.html">ValueWithIndex</a></dt>
    <dd><p>A <a class="xref" href="WaveletMatrix.SparseTable-1.ValueWithIndex.html">SparseTable&lt;T&gt;.ValueWithIndex</a> record containing the best value and its original index in the input array.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentoutofrangeexception">ArgumentOutOfRangeException</a></dt>
    <dd><p>Thrown if <code class="paramref">start</code> or <code class="paramref">end</code> are outside the valid bounds.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>Thrown if <code class="paramref">start</code> is greater than or equal <code class="paramref">end</code>.</p>
</dd>
  </dl>




</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
